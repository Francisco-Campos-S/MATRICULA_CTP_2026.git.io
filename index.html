<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matr√≠cula 2026 - CTP Sabalito</title>
    <link rel="icon" type="image/png" href="logo.png">
    <meta name="description" content="Formulario web para la matr√≠cula estudiantil del Colegio T√©cnico Profesional Agropecuario de Sabalito">
    <meta name="author" content="CTP Agropecuario de Sabalito">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/styles-optimized.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="school-logo">
                    <img src="logo.png" alt="Logo CTP Sabalito" class="logo">
                </div>
            </div>
            <div class="header-center">
                <div class="school-title">
                    <h1>Colegio T√©cnico Profesional Agropecuario de Sabalito</h1>
                    <h2>Sistema de Matr√≠cula Estudiantil 2026</h2>
                </div>
            </div>
        </header>



        <!-- Form -->
        <form id="matriculaForm" class="matricula-form" action="#" method="post">
            <!-- Print Header (solo visible al imprimir) -->
            <div class="print-header" style="display: none;">
                <div class="mep-logos">
                    <div class="left-logos">
                        <h3>MINISTERIO DE EDUCACI√ìN P√öBLICA</h3>
                        <p>GOBIERNO DE COSTA RICA</p>
                    </div>
                    <div class="right-logos">
                        <h4>Direcci√≥n Regional de Educaci√≥n de Coto</h4>
                        <p>Supervisi√≥n de Centros Educativos, Circuito 06</p>
                        <h4>Colegio T√©cnico Profesional Agropecuario de Sabalito</h4>
                    </div>
                </div>
                <div class="main-title">BOLETA MATR√çCULA 2026</div>
            </div>

            <!-- General Enrollment Information -->
            <div class="form-section">
                <div class="section-header">
                    <h2>üìã Informaci√≥n General de Matr√≠cula</h2>
                </div>
                
                <!-- T√≠tulo de secci√≥n para impresi√≥n -->
                <div class="print-section-title" style="display: none;">INFORMACI√ìN GENERAL DE MATR√çCULA</div>
                
                <!-- Bot√≥n de consulta por c√©dula -->
                <div class="consulta-section">
                    <div class="consulta-header">
                        <h3>üîç Consultar Estudiante Existente</h3>
                        <p class="consulta-subtitle">Ingrese el n√∫mero de c√©dula para buscar y cargar datos existentes</p>
                    </div>
                    <div class="consulta-form">
                        <div class="input-group">
                            <input type="text" id="cedulaConsulta" placeholder="Ingrese n√∫mero de c√©dula" maxlength="20">
                            <button type="button" id="btnConsultar" class="btn-consulta">
                                <span class="btn-icon">üîç</span>
                                <span class="btn-text">Buscar Estudiante</span>
                            </button>
                        </div>
                    </div>
                    <div id="mensajeConsulta" class="mensaje-consulta"></div>
                </div>
                
                <!-- Informaci√≥n b√°sica en tres columnas -->
                <div class="form-row three-columns">
                    <div class="form-group">
                        <label for="nivel">Nivel:</label>
                        <select id="nivel" name="nivel" required>
                            <option value="">Seleccione un nivel</option>
                            <option value="S√©timo">S√©timo</option>
                            <option value="Octavo">Octavo</option>
                            <option value="Noveno">Noveno</option>
                            <option value="D√©cimo">D√©cimo</option>
                            <option value="Und√©cimo">Und√©cimo</option>
                            <option value="Duod√©cimo">Duod√©cimo</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="especialidad">Especialidad:</label>
                        <select id="especialidad" name="especialidad" required>
                            <option value="">Seleccione una especialidad</option>
                            <option value="SIN ESPECIALIDAD">SIN ESPECIALIDAD</option>
                            <option value="TURISMO RURAL">TURISMO RURAL</option>
                            <option value="ORGANIZACI√ìN DE EMPRESAS DE TURISMO RURAL">ORGANIZACI√ìN DE EMPRESAS DE TURISMO RURAL</option>
                            <option value="PRODUCCI√ìN AGR√çCOLA Y PECUARIA">PRODUCCI√ìN AGR√çCOLA Y PECUARIA</option>
                            <option value="AGROINDUSTRIA ALIMENTARIA CON TECNOLOG√çA AGR√çCOLA">AGROINDUSTRIA ALIMENTARIA CON TECNOLOG√çA AGR√çCOLA</option>
                            <option value="CONTABILIDAD">CONTABILIDAD</option>
                            <option value="CONTABILIDAD Y FINANZAS">CONTABILIDAD Y FINANZAS</option>
                            <option value="PROCESOS PRODUCTIVOS EN INSPECCI√ìN EN LA INDUSTRIA ALIMENTARIA">PROCESOS PRODUCTIVOS EN INSPECCI√ìN EN LA INDUSTRIA ALIMENTARIA</option>
                            <option value="AGROINDUSTRIA ALIMENTARIA CON TECNOLOG√çA PECUARIA">AGROINDUSTRIA ALIMENTARIA CON TECNOLOG√çA PECUARIA</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="seccion">Secci√≥n:</label>
                        <input type="text" id="seccion" name="seccion" required>
                    </div>
                </div>
            </div>

            <!-- Student Data -->
            <div class="form-section">
                <div class="section-header">
                    <h2>üë§ Datos del Estudiante</h2>
                </div>
                
                <!-- T√≠tulo de secci√≥n para impresi√≥n -->
                <div class="print-section-title" style="display: none;">DATOS DEL ESTUDIANTE</div>
                
                <div class="form-row four-columns">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="primerApellido">Primer apellido:</label>
                            <input type="text" id="primerApellido" name="primerApellido" required>
                        </div>
                        <div class="form-group">
                            <label for="segundoApellido">Segundo apellido:</label>
                            <input type="text" id="segundoApellido" name="segundoApellido">
                        </div>
                        <div class="form-group">
                            <label for="nombreEstudiante">Nombre:</label>
                            <input type="text" id="nombreEstudiante" name="nombreEstudiante" required>
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="cedulaEstudiante">N¬∞ c√©dula:</label>
                            <input type="text" id="cedulaEstudiante" name="cedulaEstudiante" required>
                        </div>
                        <div class="form-group">
                            <label for="fechaNacimiento">Fecha nacimiento:</label>
                            <input type="date" id="fechaNacimiento" name="fechaNacimiento" required>
                        </div>
                        <div class="form-group">
                            <label for="nacionalidad">Nacionalidad:</label>
                            <input type="text" id="nacionalidad" name="nacionalidad" value="Costarricense">
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="telefonoEstudiante">N¬∫ tel√©fono:</label>
                            <input type="tel" id="telefonoEstudiante" name="telefonoEstudiante">
                        </div>
                        <div class="form-group">
                            <label for="adecuacion">Posee adecuaci√≥n:</label>
                            <select id="adecuacion" name="adecuacion">
                                <option value="">Seleccione...</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="repitente">¬øEs repitente?</label>
                            <select id="repitente" name="repitente">
                                <option value="">Seleccione...</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="enfermedad">Padece alguna enfermedad:</label>
                            <select id="enfermedad" name="enfermedad">
                                <option value="">Seleccione...</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                        <div class="form-group" id="detalleEnfermedadGroup" style="display: none;">
                            <label for="detalleEnfermedad">Detalle de la enfermedad:</label>
                            <textarea id="detalleEnfermedad" name="detalleEnfermedad" rows="1"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="rutaTransporte">Ruta de transporte:</label>
                            <input type="text" id="rutaTransporte" name="rutaTransporte">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mother/Guardian Data -->
            <div class="form-section">
                <div class="section-header">
                    <h2>üë© Datos de la Madre o Encargada</h2>
                </div>
                
                <!-- T√≠tulo de secci√≥n para impresi√≥n -->
                <div class="print-section-title" style="display: none;">DATOS DE LA MADRE O ENCARGADA</div>
                
                <div class="form-row three-columns">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="nombreMadre">Nombre:</label>
                            <input type="text" id="nombreMadre" name="nombreMadre" required>
                        </div>
                        <div class="form-group">
                            <label for="cedulaMadre">N¬∞ de C√©dula:</label>
                            <input type="text" id="cedulaMadre" name="cedulaMadre" required>
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="telefonoMadre">N¬∫ tel√©fono:</label>
                            <input type="tel" id="telefonoMadre" name="telefonoMadre" required>
                        </div>
                        <div class="form-group">
                            <label for="parentescoMadre">Parentesco:</label>
                            <input type="text" id="parentescoMadre" name="parentescoMadre" value="Madre">
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="viveConEstudianteMadre">Vive con estudiante:</label>
                            <select id="viveConEstudianteMadre" name="viveConEstudianteMadre">
                                <option value="">Seleccione...</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="direccionMadre">Direcci√≥n exacta:</label>
                            <textarea id="direccionMadre" name="direccionMadre" rows="1" required></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Father/Guardian Data -->
            <div class="form-section">
                <div class="section-header">
                    <h2>üë® Datos del Padre o Encargado</h2>
                </div>
                
                <!-- T√≠tulo de secci√≥n para impresi√≥n -->
                <div class="print-section-title" style="display: none;">DATOS DEL PADRE O ENCARGADO</div>
                
                <div class="form-row three-columns">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="nombrePadre">Nombre:</label>
                            <input type="text" id="nombrePadre" name="nombrePadre">
                        </div>
                        <div class="form-group">
                            <label for="cedulaPadre">N¬∞ de C√©dula:</label>
                            <input type="text" id="cedulaPadre" name="cedulaPadre">
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="telefonoPadre">N¬∫ tel√©fono:</label>
                            <input type="tel" id="telefonoPadre" name="telefonoPadre">
                        </div>
                        <div class="form-group">
                            <label for="parentescoPadre">Parentesco:</label>
                            <input type="text" id="parentescoPadre" name="parentescoPadre" value="Padre">
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="viveConEstudiantePadre">Vive con estudiante:</label>
                            <select id="viveConEstudiantePadre" name="viveConEstudiantePadre">
                                <option value="">Seleccione...</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="direccionPadre">Direcci√≥n:</label>
                            <textarea id="direccionPadre" name="direccionPadre" rows="1"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Declaration and Signatures -->
            <div class="form-section">
                <div class="section-header">
                    <h2>‚úçÔ∏è Declaraci√≥n y Firmas</h2>
                </div>
                
                <!-- T√≠tulo de secci√≥n para impresi√≥n -->
                <div class="print-section-title" style="display: none;">DECLARACI√ìN Y FIRMAS</div>
                
                <div class="declaration">
                    <p><strong>Declaro que la informaci√≥n proporcionada es ver√≠dica y completa.</strong></p>
                </div>
                <div class="form-row three-columns">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="firmaEncargada">Firma de la Encargada:</label>
                            <input type="text" id="firmaEncargada" name="firmaEncargada" placeholder="Nombre completo de la encargada">
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="firmaEncargado">Firma del Encargado:</label>
                            <input type="text" id="firmaEncargado" name="firmaEncargado" placeholder="Nombre completo del encargado">
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="fecha">Fecha de Matr√≠cula:</label>
                            <input type="text" id="fecha" name="fecha" placeholder="DD/MM/AAAA" required>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="observaciones">Observaciones Adicionales:</label>
                    <textarea id="observaciones" name="observaciones" rows="1" placeholder="Informaci√≥n adicional o comentarios sobre la matr√≠cula"></textarea>
                </div>
            </div>

            <!-- Print Footer (solo visible al imprimir) -->
            <div class="print-footer" style="display: none;">
                <p>Puntarenas, Coto Brus, 600 metros sureste de la tostadora de Caf√© Rio Brus, camino a Rio Sereno.</p>
                <p>Tel√©fono (506) 2784-0616/WhatsApp 89914536. Email: Clp.desabalito@mep.go.cr</p>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
                <button type="submit" class="btn-submit">
                    <span class="btn-icon">üì§</span>
                    <span class="btn-text">Enviar Matr√≠cula</span>
                </button>
                <button type="button" class="btn-reset" onclick="limpiarFormularioCompleto()">
                    <span class="btn-icon">üßπ</span>
                    <span class="btn-text">Limpiar Formulario</span>
                </button>
                <button type="button" class="btn-print" onclick="printForm()">
                    <span class="btn-icon">üñ®Ô∏è</span>
                    <span class="btn-text">Imprimir Formulario</span>
                </button>
                <button type="button" class="btn-test" onclick="cargarDatosPrueba()">
                    <span class="btn-icon">üß™</span>
                    <span class="btn-text">Cargar Datos de Prueba</span>
                </button>
            </div>
            
            <!-- Informaci√≥n sobre la impresi√≥n -->
            <div class="print-info" style="display: none;">
                <p><strong>üí° Nota:</strong> Al imprimir, el archivo se guardar√° autom√°ticamente con el nombre del estudiante, nivel, secci√≥n y a√±o.</p>
                <p><strong>Ejemplo:</strong> Boleta_Matricula_Apellido_Nombre_Nivel_Seccion_2026.pdf</p>
            </div>
        </form>

        <!-- Success Message -->
        <div id="successMessage" class="success-message" style="display: none;">
            <h3>¬°Matr√≠cula Enviada Exitosamente!</h3>
            <p>Los datos han sido guardados en Google Sheets.</p>
        </div>

        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
            <div class="spinner"></div>
            <p>Enviando datos...</p>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <p>&copy; 2025 Colegio T√©cnico Profesional Agropecuario de Sabalito</p>
            <p>Sistema de Matr√≠cula Estudiantil 2026</p>
        </footer>
    </div>

    <!-- CSS NUCLEAR para forzar footer visible al imprimir -->
    <style>
        /* Footer oculto en pantalla */
        .print-footer {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            position: absolute !important;
            left: -9999px !important;
            top: -9999px !important;
        }
        
        /* REGLAS NUCLEARES para mostrar footer al imprimir */
        @media print {
            /* RESET NUCLEAR para footer */
            .print-footer {
                all: unset !important;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                position: fixed !important;
                bottom: 0 !important;
                left: 0 !important;
                right: 0 !important;
                top: auto !important;
                z-index: 9999 !important;
                background: white !important;
                border-top: 1px solid #666 !important;
                padding: 15px !important;
                text-align: left !important;
                color: #000 !important;
                font-size: 11pt !important;
                margin: 0 !important;
                width: 100% !important;
                box-sizing: border-box !important;
                font-family: 'Times New Roman', serif !important;
            }
            
            .print-footer p {
                all: unset !important;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                margin: 5px 0 !important;
                line-height: 1.3 !important;
                text-align: left !important;
                font-weight: bold !important;
                color: #000 !important;
                font-size: 11pt !important;
                background: white !important;
                font-family: 'Times New Roman', serif !important;
            }
            
            /* OCULTAR footer autom√°tico del navegador */
            @page {
                margin-bottom: 0 !important;
            }
            
            /* Ocultar URLs y t√≠tulos autom√°ticos del navegador */
            body::after {
                display: none !important;
                content: none !important;
            }
        }
    </style>

    <!-- JavaScript -->
    <script src="assets/js/script.js"></script>
    <script src="assets/js/google-sheets-config.js"></script>
</body>
</html>
